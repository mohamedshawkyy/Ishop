<%- include('../layouts/adminheader.ejs')%>  
<%- include('../partials/messages.ejs')%>  

<div class="container-md"> 
<h2 class="page-title">edit a product</h2> 
<a href="/admin/products" class="btn btn-primary">back to all products </a>
<br><br> 
<form action="/admin/products/addproduct" method="POST" enctype="multipart/form-data"> 

    <div class="form-group"   style="padding: 7;">
        <label for="">title</label>
        <input type="text" class="form-control" name="title" placeholder="title" > 
    </div> 
    <div class="form-group"   style="padding: 7;">
        <label for="">Description</label>
       <textarea name="desc"  class="form-control" placeholder="description" cols="20" rows="10"></textarea>
        

    </div>  
    <div class="form-group"  style="padding: 7;">
       <label for="">Category</label>
       <select name="category" class="form-contrp;">
           <% for (let category of categories) { %> 
            <option > <%=category.title%> </option>
            <% } %> 
       </select>

    </div>
    <div class="form-group"  style="padding: 7;">
        <label for="">Price</label>
        <input type="text" class="form-control" name="price" placeholder="price" >
        
    </div>
    <div class="form-group">
        <label for="">Image</label>
        <input type="file" class="form-control" name="image" id="img">
        <img src="#" id="imgprev" alt="">
    </div>
    
    <button class="btn btn-primary" > submit </button>

</form>   



<script>
    function readurl(input){
        if(input.files && input.files[0]){
            var reader = new FileReader();
            reader.onload = function(e) {
                $("#imgprev").attr('src',e.target.result).width(100).height(100);
                
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $('#img').change(function(){
        readurl(this);
    })
</script>
<%- include('../layouts/adminfooter.ejs')%> 